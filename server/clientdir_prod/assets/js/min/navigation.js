function load_page_module(){$(pages).each(function(e,a){e==page&&($(a.li).addClass("selected"),a.module&&(minify?require(["js/min/"+a.module]):require(["js/app/"+a.module])))})}function navigate(e,a,n){var i=pages[e];$(pages).each(function(e,a){a.li==i?$(a.li).addClass("selected"):$(a.li).removeClass("selected")});var l=i.page;n&&(l+="?"+n),setTimeout(function(){close_menu()},a),setTimeout(function(){document.location.href=l},4*a)}function share_window(e,a,n){var i=screen.height/2-n/2,l=screen.width/2-a/2;window.open(e,"sharer","top="+i+",left="+l+",toolbar=0,status=0,width="+a+",height="+n)}function open_menu(){menu.open=!0,$(dbody).addClass("menu_mode"),resize_map(animate4)}function close_menu(){menu.open=!1,$(dbody).removeClass("menu_mode"),resize_map(animate4)}console.log("--- navigation.js");var pages=[{page:"index.html",lg:"home",icon:"home",module:"home.js",map:!0},{page:"map.html",lg:"map",icon:"brasil",module:"map.js",map:!0},{page:"about.html",lg:"about",icon:"about",module:!1,map:!1}],menu=elem("div");$(menu).attr("id","menu").addClass("animate2"),set("logo_rsa_top"),logo_rsa_top&&$(logo_rsa_top).on("click",function(){navigate(0,animate1,"")}),menu.open=!1,$(dbody).append(menu);var menu_ul=elem("ul");$(menu_ul).attr("id","menu_ul").css({height:81*pages.length}),$(menu).append(menu_ul),$(pages).each(function(e,a){var n=elem("li",{trg:menu_ul});$(n).addClass("menu_li").addClass("animate1").html(a.label).on("click",function(){page==this.id?close_menu():navigate(this.id,animate1,this.get)}),n.get=a.get,n.page=a.page,n.id=e,a.li=n;var i=elem("div",{trg:n});$(i).addClass("lg_"+a.lg).addClass("menu_lb");var l=elem("div");$(l).addClass("icon").addClass("icon35").addClass("animate1").addClass("icon-"+a.icon),$(n).append(l)});var share_url="http://riscosocioambiental.org/",share_title={_pt:"Risco Socioambiental para Commodities",_en:"Environmental & Social Risk for Commodities"},share_pages=[{label:"FACEBOOK",id:"fbook",url:"https://www.facebook.com/share.php?u="+share_url+"&title="+share_title[lang]},{label:"TWITTER",id:"twitter",url:"https://twitter.com/intent/tweet?status="+share_title[lang]+" "+share_url}],share_ul=elem("ul",{trg:menu});$(share_ul).attr("id","share_ul"),$(share_pages).each(function(e,a){var n=elem("div",{id:"share_bt",trg:share_ul});$(n).addClass("share_li").addClass("animate1").on("click",function(){share_window(this.url,550,300)}),n.id=a.id,n.url=a.url;var i=elem("div",{trg:n});$(i).addClass("icon").addClass("icon25").addClass("animate1").addClass("icon-"+a.id)});var menu_bt=elem("div",{trg:menu});$(menu_bt).attr("id","menu_bt").addClass("animate1").on("click",function(){menu.open?close_menu():open_menu()});var icon1=elem("div",{id:"menu_bt_icon1",trg:menu_bt});$(icon1).addClass("icon").addClass("animate1").addClass("icon25").append(icons.menu);var icon2=elem("div",{id:"menu_bt_icon2",trg:menu_bt});$(icon2).addClass("icon").addClass("animate1").addClass("icon35").append(icons.leftMenu);var lang=sessionStorage.getItem("lang")||"_pt";console.log(">>> start"),resize(),verifica_scroll(),load_icons(),load_lg_bts(),set_lang(lang,!1),load_page_module();